{"version":3,"sources":["uni-app:///main.js","webpack:///E:/uni_doctor_app/uni-doctor/pages/home/home.vue?4c88","webpack:///E:/uni_doctor_app/uni-doctor/pages/home/home.vue?9da1","webpack:///E:/uni_doctor_app/uni-doctor/pages/home/home.vue?82e7","webpack:///E:/uni_doctor_app/uni-doctor/pages/home/home.vue?8276","uni-app:///pages/home/home.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,uC,mDACAA,EAAWC,a;;;;2DCHX,sNACIC,EADJ,iHAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sBACZ,aAAAF,E;;;;2GCtBf,4zB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,oeAAqqB,eAAG,G;;;;6HCYxqB,sB,0vCACA,CACA,YACA,WACA,WACA,eAEA,KANA,WAOA,OACA,WACA,SACA,eACA,qBACA,gBACA,WACA,iBACA,gBACA,gBACA,qBACA,iBAEA,UACA,WACA,YACA,qBACA,cACA,oBACA,cACA,iBAEA,YAGA,eACA,eACA,gDAGA,SACA,SADA,WAEA,WACA,uDACA,aACA,gBACA,wBACA,WACA,4BACA,wCACA,8BACA,oBACA,gCACA,8BACA,8BACA,oBACA,0BAEA,yBACA,4BAIA,aAvBA,WAwBA,WACA,oEACA,aACA,cACA,YACA,2BACA,2BACA,6CACA,+BACA,2CACA,wCACA,0CAMA,OACA,OADA,SACA,GACA,gDAEA,SACA,QACA,QAFA,SAEA,GACA,gBACA,2EACA,uBAKA,OA5FA,WA6FA,gBACA,sB","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92bb8f34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"HomeContainer\">\r\n\t\t<HomeInfo :infoObj=\"infoObj\" />\r\n\t\t<HomeNews :msgList=\"msgList\" :serveObj=\"serveObj\" />\r\n\t\t<HomePerfect ref=\"HomePerfect\" />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport HomeInfo from './components/Info'\r\n\timport HomeNews from './components/News'\r\n\timport HomePerfect from './components/Perfect'\r\n\timport { mapState } from \"vuex\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tHomeInfo,\r\n\t\t\tHomeNews,\r\n\t\t\tHomePerfect\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmsgList: [], //评价医生系统消息\r\n\t\t\t\tinfoObj: { //个人信息\r\n\t\t\t\t\tbrowseNumber: 0, //浏览我的次数\r\n\t\t\t\t\tservePatientNumber: 0, //服务患者总数\r\n\t\t\t\t\tpatientNumber: 0, //我的患者\r\n\t\t\t\t\tsuNumber: 0, //我的助手\r\n\t\t\t\t\tintegralNumber: 0, //月剩余积分人数\r\n\t\t\t\t\tcharityNumber: 0, //治疗义诊人数\r\n\t\t\t\t\tpovertyNumber: 0, //治疗贫困人数\r\n\t\t\t\t\tuserHead: '@head.jpg', //用户头像\r\n\t\t\t\t\tuserName: \"脑科专家\" //用户账号\r\n\t\t\t\t},\r\n\t\t\t\tserveObj: { //首页角标\r\n\t\t\t\t\toticeInt: 0, //复诊角标\r\n\t\t\t\t\torderPush: 0, //咨询角标\r\n\t\t\t\t\tpatientHistoryPush: 0, //病历库角标\r\n\t\t\t\t\tpatientPush: 0, //预警角标\r\n\t\t\t\t\treexaminationPush: 0, //复诊角标\r\n\t\t\t\t\tcfPushCount: 0, //查房角标\r\n\t\t\t\t\tmessageNumber: 0 //出院角标\r\n\t\t\t\t},\r\n\t\t\t\tverify: true\t//是否展示个人资料补全\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\ttakeMsg: state => state.imRong.takeMsg //获取接受到最新一条消息\r\n\t\t\t}),\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpostHome() { //请求首页数据\r\n\t\t\t\tlet self = this\r\n\t\t\t\tthis.$post('/api/doctor/login/home').then(data => {\r\n\t\t\t\t\tlet res = data.data\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet serveCount = res.data.serveCount\r\n\t\t\t\t\t\tself.infoObj = {\r\n\t\t\t\t\t\t\tbrowseNumber: serveCount.browseNumber, //浏览我的次数\r\n\t\t\t\t\t\t\tservePatientNumber: serveCount.servePatientNumber, //服务患者总数\r\n\t\t\t\t\t\t\tpatientNumber: serveCount.patientNumber, //我的患者\r\n\t\t\t\t\t\t\tsuNumber: serveCount.suNumber, //我的助手\r\n\t\t\t\t\t\t\tintegralNumber: serveCount.integralNumber, //月剩余积分人数\r\n\t\t\t\t\t\t\tcharityNumber: serveCount.charityNumber, //治疗义诊人数\r\n\t\t\t\t\t\t\tpovertyNumber: serveCount.povertyNumber, //治疗贫困人数\r\n\t\t\t\t\t\t\tuserHead: res.data.img, //用户头像\r\n\t\t\t\t\t\t\tuserName: res.data.nickName //用户账号\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.msgList = res.data.msgList\r\n\t\t\t\t\t\tself.verify = res.data.verify\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpostHomeSign() { //获取首页角标\r\n\t\t\t\tlet self = this\r\n\t\t\t\tthis.$post('/api/doctor/login/homeSign', {}, false, false).then(data => {\r\n\t\t\t\t\tlet res = data.data\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tself.serveObj = {\r\n\t\t\t\t\t\t\tnoticeInt: res.data.noticeInt, //复诊角标\r\n\t\t\t\t\t\t\torderPush: res.data.orderPush, //咨询角标\r\n\t\t\t\t\t\t\tpatientHistoryPush: res.data.patientHistoryPush, //病历库角标\r\n\t\t\t\t\t\t\tpatientPush: res.data.patientPush, //预警角标\r\n\t\t\t\t\t\t\treexaminationPush: res.data.reexaminationPush, //复诊角标\r\n\t\t\t\t\t\t\tcfPushCount: res.data.wardInfo.cfPushCount, //查房角标\r\n\t\t\t\t\t\t\tmessageNumber: res.data.messageNumber //出院角标\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tverify(newValue) {\t//监听个人资料缺失状态\r\n\t\t\t\tif (!newValue) this.$refs.HomePerfect.handleClickPopup(true)\t//展示个人资料缺失\r\n\t\t\t},\r\n\t\t\ttakeMsg: {\t//监听接受到最新一条信息\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(newMsg) {\r\n\t\t\t\t\tlet content = newMsg.content\r\n\t\t\t\t\tif (newMsg.messageType == \"Ec:CustomMsg\" && (content.customType == \"pay\" || content.customType == \"order\")) {\t//判断消息是否为后台自定义消息&下单状态||订单目前状态\r\n\t\t\t\t\t\tthis.postHomeSign()\t//获取首页角标\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.postHome() //请求首页数据\r\n\t\t\tthis.postHomeSign()\t//获取首页角标\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"],"sourceRoot":""}